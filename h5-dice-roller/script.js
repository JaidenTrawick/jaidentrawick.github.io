function rollDice(e){const t=[];for(let r=0;r<e;r++)t.push(Math.floor(10*Math.random())+1);return t}function interpretResults(e,t){const r=[];for(let s=0;s<t&&0!=e.length;s++){let t=e.pop();t>5&&(r[s]="success",10==t&&(r[s]="critical")),t<6&&(r[s]="failure",1==t&&(r[s]="despair"))}for(;0!=e.length;){let t=e.pop();t>5&&(10==t?r.push("critical"):r.push("success")),t<6&&r.push("failure")}return r}function displayRoll(){let e=0;applyDesperation.checked&&(e=parseInt(desperation.innerText));const t=document.querySelectorAll("td");for(let e=0;e<t.length;e++)t[e].remove();const r=interpretResults(rollDice(parseInt(pool.innerText)+e),e);let s=0,l=0,n=!1;for(;0!=r.length;){let e=r.pop();"success"==e&&s++,"critical"==e&&l++,"despair"==e&&(n=!0);let t=document.createElement("td");t.innerHTML='<img class="icon" src="'+e+'.svg">',resultsTable.appendChild(t)}l>1&&(l*=l),s+=l,resultsText.innerText=s+" successes",1==s&&(resultsText.innerText="1 success"),n&&(resultsText.innerText+=", Despair or Overreach"),l>1&&(resultsText.innerText+=", potential critical")}